# Project Kojak: Augmenting MIDI Files

Training Markov Chain models on melodies and rhythms, and using them to augment existing MIDI files, adding new notes to the files to produce slightly more advanced arrangements.

###Diary of my work so far:

1. [Scraping MIDI files from the internet](./diary/scraper.ipynb) 
- [Explaining the formats of the resulting files](./diary/flattening_tracks.ipynb)
- [Extracting time series information in the rhythmic and melodic domains (first pass)](./diary/getting_melodies_and_rhythms.ipynb)
- [Extracting time series information in the rhythmic and melodic domains (final pass)](./diary/getting_melodies_and_rhythms_optimized.ipynb)
- [Getting Markov Chains up and running](./diary/markov_chains.ipynb)
- [Recentered Markov Chains](./diary/markov_chains_generalized.ipynb)
- [Quantizing Rhythm Sequences](./diary/quantizing_rhythms.ipynb)
- [Making Markov Chains from Rhythmic Sequences](./diary/markov_chains_for_rhythm.ipynb)

### Executables:
From the (Mac or Linux) terminal, run the following commands.
 
```bash
# move to the source directory of the repo
$ cd path/to/midi_levelUp/src


# run midi_funcs for a short demo of 
# sequence extraction
$ python midi_funcs.py


# run markov_funcs for a short demo of 
# creating markov chains and producing
# pickled models
$ python markov_funcs.py

# in d3_model folder:
$ python play_notes.py
```
	
###Note on storage space for d3 model: 
In order to clean up the wav files that get generated by `play_notes.py`, you can set up a `cron` job by opening the terminal and typing the following command: 
	
```bash
# Edit the existing crontab file
$ sudo crontab -e
```
	
Once inside the editor, append the line 
	
```emacs
*/5 * * * * python /path/to/repo/d3_model/clear_notes.py
```
and be sure to add a new line before EOF. The `*/5` will clear the files every five minutes, and you can change this at your own discretion (read more about cron files [here](http://www.unixgeeks.org/security/newbie/unix/cron-1.html)).